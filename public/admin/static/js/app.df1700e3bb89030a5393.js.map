{"version":3,"sources":["webpack:///./src/api/AV.js","webpack:///./src/api/students.js","webpack:///src/components/students.vue","webpack:///./src/components/students.vue?c3df","webpack:///./src/components/students.vue","webpack:///./src/router.js","webpack:///./src/components/App.vue?92a8","webpack:///./src/components/App.vue","webpack:///./src/main.js"],"names":["av_min_default","a","init","appId","appKey","AV","students_get_students","grade","sts","Query","reg","RegExp","matches","find","then","map","s","id","name","get","replace","self","transform","dad","mom","toJson","data","length","arr","forEach","item","max","Math","apply","results","value","index","push","join","students","title","key","get_students","_this","this","components_students","render","_vm","_h","$createElement","_c","_self","_v","_s","$route","params","ref","staticClass","attrs","columns","stripe","type","on","click","$event","$refs","exportCsv","filename","_e","staticRenderFns","src_components_students","__webpack_require__","normalizeComponent","ssrContext","vue_esm","use","vue_router_esm","router","routes","path","redirect","component","components_App","theme","open-names","on-select","$router","slot","_l","i","src_components_App","App_normalizeComponent","config","productionTip","iview_default","el","components","App","template"],"mappings":"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","file":"static/js/app.df1700e3bb89030a5393.js","sourcesContent":["import AV from 'leancloud-storage'\n\nAV.init({\n  appId: 'lbNec6PJyWzpWXWhFwK0L3yq-gzGzoHsz',\n  appKey: 'cklqnzo93uOmckz6JFELszwP'\n})\n\nexport default AV\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/AV.js","import AV from './AV'\n\nexport function get_students(grade) {\n  const sts = new AV.Query('_User')\n  const reg = new RegExp(`-${grade}$`, 'i')\n  return sts.matches('username', reg).find().then(sts => sts.map(s => toJson(s)))\n}\n\nfunction toJson(s) {\n  return {\n    id: s.id,\n    name: s.get('username').replace(/-.+$/, ''),\n    self: transform(s.get('self')),\n    dad: transform(s.get('dad')),\n    mom: transform(s.get('mom'))\n  }\n}\n\nexport function transform(data) {\n  if(data.length < 1) return '暂未测试'\n\n  let arr = [0, 0, 0, 0, 0, 0, 0, 0, 0]\n  data.forEach(item => {if(item >=1 && item <= 9) arr[item - 1] += 1})\n\n  const max = Math.max(...arr)\n  let results = []\n  arr.forEach((value, index) => {\n    if(value >= max) {\n      results.push(index + 1)\n    }\n  })\n  return results.join('+')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/students.js","<template lang=\"pug\">\ndiv\n  h1 {{$route.params.grade}}\n  Table.table(:columns=\"columns\" :data=\"students\" ref=\"sts\" stripe)\n  .right\n    Button(type=\"primary\" v-if=\"students.length > 0\" @click=\"$refs.sts.exportCsv({filename: $route.params.grade})\") 导出CSV\n</template>\n\n<script>\nimport {get_students} from '@/api/students'\n\nexport default {\n  data() {\n    return {\n      columns: [\n        {title: '姓名', key: 'name'},\n        {title: '本人', key: 'self'},\n        {title: '父亲', key: 'dad'},\n        {title: '母亲', key: 'mom'},\n      ],\n      students: []\n    }\n  },\n  created() {\n    this.get_students()\n  },\n  watch: {\n    '$route': 'get_students'\n  },\n  methods: {\n    async get_students() {\n      const grade = this.$route.params.grade\n      this.students = await get_students(grade)\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\nh1 {\n  font-size: 20px;\n}\n.table {\n  margin: 16px 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/students.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$route.params.grade))]),_c('Table',{ref:\"sts\",staticClass:\"table\",attrs:{\"columns\":_vm.columns,\"data\":_vm.students,\"stripe\":\"stripe\"}}),_c('div',{staticClass:\"right\"},[(_vm.students.length > 0)?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.$refs.sts.exportCsv({filename: _vm.$route.params.grade})}}},[_vm._v(\"导出CSV\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43f1f3a7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/students.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43f1f3a7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./students.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./students.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./students.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43f1f3a7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./students.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43f1f3a7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/students.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport students from '@/components/students'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/联考1班'\n    },\n    {\n      path: '/:grade',\n      component: students\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('Sider',{staticClass:\"sider\"},[_c('Menu',{attrs:{\"theme\":\"dark\",\"open-names\":['联考', '校考']},on:{\"on-select\":function (name) {_vm.$router.push(name)}}},[_c('Submenu',{attrs:{\"name\":\"联考\"}},[_c('template',{slot:\"title\"},[_vm._v(\"联考班级\")]),_vm._l((5),function(i){return _c('MenuItem',{key:i,attrs:{\"name\":(\"联考\" + i + \"班\")}},[_vm._v(_vm._s(i)+\" 班\")])})],2),_c('Submenu',{attrs:{\"name\":\"校考\"}},[_c('template',{slot:\"title\"},[_vm._v(\"校考班级\")]),_vm._l((30),function(i){return _c('MenuItem',{key:i,attrs:{\"name\":(\"校考\" + i + \"班\")}},[_vm._v(_vm._s(i)+\" 班\")])})],2)],1)],1),_c('Content',{staticClass:\"content\"},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c100e10\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c100e10\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c100e10\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c100e10\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c100e10\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport iView from 'iview'\nimport router from './router'\nimport App from '@/components/App'\nimport 'iview/dist/styles/iview.css'\n\nVue.config.productionTip = false\n\nVue.use(iView)\n\nnew Vue({\n  el: '#root',\n  router,\n  components: {App},\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}