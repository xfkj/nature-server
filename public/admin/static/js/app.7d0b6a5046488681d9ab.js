webpackJsonp([1],{"+skl":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a=n("BTaQ"),s=n.n(a),u=n("/ocq"),o=n("Xxa5"),c=n.n(o),i=n("exGp"),l=n.n(i),d=n("JnRc"),f=n.n(d);f.a.init({appId:"lbNec6PJyWzpWXWhFwK0L3yq-gzGzoHsz",appKey:"cklqnzo93uOmckz6JFELszwP"});var p=f.a;function m(t){var e=new p.Query("_User"),n=new RegExp("-"+t+"$","i");return e.matches("username",n).find().then(function(t){return t.map(function(t){return function(t){return{id:t.id,name:t.get("username").replace(/-.+$/,""),self:v(t.get("self")),dad:v(t.get("dad")),mom:v(t.get("mom"))}}(t)})})}function v(t){if(t.length<1)return"暂未测试";var e=[0,0,0,0,0,0,0,0,0];t.forEach(function(t){t>=1&&t<=9&&(e[t-1]+=1)});var n=Math.max.apply(Math,e),r=[];return e.forEach(function(t,e){t>=n&&r.push(e+1)}),r.join("+")}var h={data:function(){return{columns:[{title:"姓名",key:"name"},{title:"本人",key:"self"},{title:"父亲",key:"dad"},{title:"母亲",key:"mom"}],students:[]}},created:function(){this.get_students()},watch:{$route:"get_students"},methods:{get_students:function(){var t=this;return l()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$route.params.grade,e.next=3,m(n);case 3:t.students=e.sent;case 4:case"end":return e.stop()}},e,t)}))()}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.$route.params.grade))]),n("Table",{ref:"sts",staticClass:"table",attrs:{columns:t.columns,data:t.students,stripe:"stripe"}}),n("div",{staticClass:"right"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.$refs.sts.exportCsv({filename:t.$route.params.grade})}}},[t._v("导出CSV")])],1)],1)},staticRenderFns:[]};var g=n("VU/8")(h,_,!1,function(t){n("wVBd")},"data-v-9b518a6c",null).exports;r.default.use(u.a);var k=new u.a({routes:[{path:"/",redirect:"/联考1班"},{path:"/:grade",component:g}]}),y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",[n("Sider",{staticClass:"sider"},[n("Menu",{attrs:{theme:"dark","open-names":["联考","校考"]},on:{"on-select":function(e){t.$router.push(e)}}},[n("Submenu",{attrs:{name:"联考"}},[n("template",{slot:"title"},[t._v("联考班级")]),t._l(5,function(e){return n("MenuItem",{key:e,attrs:{name:"联考"+e+"班"}},[t._v(t._s(e)+" 班")])})],2),n("Submenu",{attrs:{name:"校考"}},[n("template",{slot:"title"},[t._v("校考班级")]),t._l(30,function(e){return n("MenuItem",{key:e,attrs:{name:"校考"+e+"班"}},[t._v(t._s(e)+" 班")])})],2)],1)],1),n("Content",{staticClass:"content"},[n("router-view")],1)],1)},staticRenderFns:[]};var w=n("VU/8")({},y,!1,function(t){n("Qkoj"),n("z8rB")},"data-v-0c100e10",null).exports;n("+skl");r.default.config.productionTip=!1,r.default.use(s.a),new r.default({el:"#root",router:k,components:{App:w},template:"<App/>"})},Qkoj:function(t,e){},wVBd:function(t,e){},z8rB:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7d0b6a5046488681d9ab.js.map